# CodeModel Format Definition

**Filename**: `codemodel.md`
**Location**: In the root of every logical module/folder.
**Purpose**: Defines the *Actual Implementation Structure* (AST) of the module.
**Critical Rule**: This file should ideally be **Generated by Tooling**, not written by hand.

## Format: Hybrid YAML+Markdown (Generated)

### 1. YAML Frontmatter (Strict AST Dump)

The frontmatter acts as a cached index of the code symbols.

```yaml
---
asdp_version: "1.0.0"

# Integrity Hash (for Stallness Detection)
integrity:
  src_hash: "bcda23..."
  algorithm: "sha256"
  last_modified: 2026-01-21T18:00:00Z
  checked_at: 2026-01-21T18:05:00Z

# Symbols (Classes, Functions, Constants)
symbols:
  - name: "Client"
    kind: "struct"
    exported: true
    line: 14
    line_end: 22
    signature: "struct Client"
    
  - name: "NewClient"
    kind: "function"
    exported: true
    line: 45
    line_end: 55
    signature: "func NewClient(timeout time.Duration) *Client"
    docstring: "Creates a new HTTP client with default retry policies."

  - name: "Get"
    kind: "method"
    parent: "Client"
    exported: true
    line: 60
    line_end: 72
    signature: "func (c *Client) Get(url string) (*Response, error)"
---
```

### 2. Markdown Body (Agent Annotations)

The body allows Agents to add *semantic understanding* to the raw symbols. While the YAML is the "What", the Markdown is the "How it actually works inside".

```markdown
# Semantic Model

## Client
The `Client` struct holds the state for...

## NewClient
Initializes the transport layer. Note that it sets `MaxIdleConns` to 100 by default.
```
