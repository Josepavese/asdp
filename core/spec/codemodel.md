# CodeModel Format Definition

**Filename**: `codemodel.md`
**Location**: In the root of every logical module/folder.
**Purpose**: Defines the *Actual Implementation Structure* (AST) of the module.
**Critical Rule**: This file should ideally be **Generated by Tooling**, not written by hand.

## Format: Hybrid YAML+Markdown (Generated)

### 1. YAML Frontmatter (Strict AST Dump)

The frontmatter acts as a cached index of the code symbols.

```yaml
---
asdp_version: "1.0.0"

# Integrity Hash (for Stallness Detection)
integrity:
  src_hash: "sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
  algorithm: "sha256"
  checked_at: "2023-10-27T10:00:00Z"

# Symbols (Classes, Functions, Constants)
symbols:
  - name: "Client"
    kind: "struct"
    exported: true
    line: 14
    signature: "struct Client"
    
  - name: "NewClient"
    kind: "function"
    exported: true
    line: 45
    signature: "func NewClient(timeout time.Duration) *Client"
    docstring: "Creates a new HTTP client with default retry policies."

  - name: "Get"
    kind: "method"
    parent: "Client"
    exported: true
    signature: "func (c *Client) Get(url string) (*Response, error)"
---
```

### 2. Markdown Body (Agent Annotations)

The body allows Agents to add *semantic understanding* to the raw symbols. While the YAML is the "What", the Markdown is the "How it actually works inside".

```markdown
# Semantic Model

## Client
The `Client` struct holds the state for...

## NewClient
Initializes the transport layer. Note that it sets `MaxIdleConns` to 100 by default.
```
